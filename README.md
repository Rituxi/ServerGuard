# ServerGuard 图床与保活服务

这是一个基于 Node.js (Express + React) 的轻量级应用程序，专为云平台（如 Zeabur）设计。

**核心功能：**
1.  **静态资源托管**：提供一个简单的网页界面上传图片，生成永久访问链接（用于微信小程序等）。
2.  **防休眠机制**：内置心跳检测，防止云服务因无流量而自动休眠。

---

## 🚀 部署指南 (Zeabur) - 重要！

### 1. 消除 "405 Method Not Allowed" 错误
如果您在部署预览中看到 **Output Directory** 被设置为了 `dist`，**请立即停止部署**。这会导致上传功能失效。

**解决方法：**
由于 Zeabur 会缓存构建配置，如果您之前部署过旧版本，请按以下步骤操作：
1. 进入 Zeabur 控制台 -> 点击顶部的 **Settings (设置)** 标签。
2. **滚动到页面最底部**，找到 **⚠ 危险操作** (Danger Zone) 区域。
3. 点击红色的 **删除服务** (Delete Service) 按钮。
4. 删除完成后，点击左侧栏的 **新建服务** (Create Service) -> **Git** -> 重新选择此仓库。
5. 此时构建预览中不应再出现 "Output Directory" 选项，这表示 Node.js 模式已激活。

### 2. 配置持久化存储 (Volume)
部署成功后，请立即执行以下操作，否则重启后图片会丢失：

1. 进入 Zeabur 控制台 -> 点击您的 **ServerGuard** 服务。
2. 点击顶部菜单的 **设置 (Settings)** -> **硬盘 (Storage)**。
3. 点击 **添加路径 (Add Path)**。
4. 填写以下信息：
   - **挂载名称**：任意填写（例如 `assets-data`）
   - **挂载路径**：必须精确填写 **`/app/public`**
5. 点击 **挂载硬盘**。

*服务会自动重启，重启完成后，您上传的图片将永久保存。*

---

## 📖 使用说明

1. 打开部署后的网页链接。
2. 点击右上角的 **"上传文件"** 按钮。
3. 选择您的图片（如 `cover-card.png`）。
4. 上传成功后，图片地址即为：`https://您的域名.zeabur.app/cover-card.png`。
5. 将此链接复制到您的小程序代码中即可。

## 🛠 本地开发

```bash
# 安装依赖
npm install

# 启动开发服务器 (前后端联调)
npm run dev

# 仅启动后端 (生产环境模式)
npm start
```